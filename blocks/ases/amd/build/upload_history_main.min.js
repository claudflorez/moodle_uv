define(["jquery","block_ases/bootstrap","block_ases/sweetalert"],function(a,b,c){return{init:function(){function b(){var b=new FormData;if(void 0==a("#archivo")[0].files[0])return swal({title:"Archivo no registrado.",text:"Seleccione el archivo a subir",html:!0,type:"error",confirmButtonColor:"#d51b23"}),void c();b.append("file",a("#archivo")[0].files[0]);var d=a("#selector").val()+"_processing.php";a.ajax({url:"../managers/historic_management/"+d,data:b,type:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1,beforeSend:function(){a("#response").html("<img src='../icon/facebook.gif' />")},success:function(b){swal({title:"Exito",text:"Archivo Cargado. Por favor consulte los detalles",html:!0,type:"warning",showCancelButton:!1,showConfirmButton:!1,timer:1300}),a("#response").empty(),a("#informacion").empty(),b.success?a("#informacion").append('<div class="alert alert-success"><h4 align="center">Información</h4><strong>Exito!</strong> <br><p>'+b.success+"</p></div>"):b.warning?a("#informacion").append('<div class="alert alert-warning"><h4 align="center">Información</h4><strong>Cargado con inconsitencias!</strong> <br>'+b.warning+"</div>"):b.error&&a("#informacion").append('<div class="alert alert-danger"><h4 align="center">Información</h4><strong>Error!</strong> <br>'+b.error+"</div>"),a("#informacion").append(b.urlzip)},error:function(b){console.log(b),swal({title:"Error en conexion al servidor.",text:"No se ha podido establecer conexion al servidor",html:!0,type:"error",confirmButtonColor:"#d51b23"}),a("#response").html(""),c()}})}function c(){var b=a("#selector").val();switch(a("#informacion").empty(),b){case"academic":a("#informacion").append('<div class="alert alert-info"><h4 align="center">Información de carga histórico académico</h4><br><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>codigo_estudiante</li> <li>semestre</li> <li>programa</li> <li>promedio_semestre</li> <li>promedio_acumulado</li> </ul> </p><p>Columnas extras aceptadas: <ul> <li>numero_bajo</li> <li>puesto_estimulo</li> <li>fecha_cancelacion</li> </ul> </p></div>');break;case"materias":a("#informacion").append('<div class="alert alert-info"><h4 align="center">Información de carga materias</h4><br><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>codigo_estudiante</li> <li>semestre</li> <li>programa</li> <li>nombre_materia</li> <li>codigo_materia</li> <li>creditos</li> <li>nota</li> <li>fecha_cancelacion_materia</li> </ul> </p></div>');break;case"icetex":a("#informacion").append('<div class="alert alert-info"><h4 align="center">Información de carga histórico ICETEX</h4><br> <strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul><li>cedula_estudiante</li><li>programa</li><li>codigo_resolucion</li> <li>monto_estudiante</li></ul> </p></div>');break;case"resolution":a("#informacion").append('<div class="alert alert-info"><h4 align="center">Información de carga resolución ICETEX</h4><br> <strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul><li>codigo_resolucion</li><li>nombre_semestre</li><li>fecha</li><li>total_girado</li></ul></p></div>')}}c(),a("#selector").on("change",function(){c()}),a("#boton_subir").on("click",function(){a("#informacion").empty(),b()})}}});