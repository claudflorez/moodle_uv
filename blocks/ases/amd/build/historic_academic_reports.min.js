define(["jquery","block_ases/bootstrap","block_ases/jquery.dataTables","block_ases/sweetalert2"],function(a){function b(b,c,d){a.ajax({type:"POST",data:{codigo:b,programa:c,type:"check_loses",semestre:d},url:"../managers/historic_academic_reports/historic_academic_reports_processing.php",success:function(b){console.log(b),swal({title:"Materias Perdidas",type:"info",text:b,html:!0,showCancelButton:!1,customClass:"swal-wide",confirmButtonColor:"#DD6B55",confirmButtonText:"Cerrar",closeOnConfirm:!0}),a(".swal-wide").css({width:"600px","margin-left":"-300px"})},dataType:"text",cache:"false",error:function(a){console.log(a)}})}function c(b,c,d){a.ajax({type:"POST",data:{codigo:b,programa:c,type:"check_estimulo",semestre:d},url:"../managers/historic_academic_reports/historic_academic_reports_processing.php",success:function(a){console.log(a),swal({title:"Estímulo Académico",type:"info",text:a,html:!0,showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"Cerrar",closeOnConfirm:!0})},dataType:"text",cache:"false",error:function(a){console.log(a)}})}return{init:function(){a(document).ready(function(){a(document).on("change","#tableResultStudent thead tr th select",function(){var b=a("#tableResultStudent").DataTable(),c=a(this).parent().index()+1;b.columns(c-1).search(this.value).draw()}),a(document).on("change","#tableResultTotal thead tr th select",function(){var b=a("#tableResultTotal").DataTable(),c=a(this).parent().index()+1,d=this.value;b.columns(c-1).search(d).draw()}),a(document).on("click","#tableResultStudent tbody tr td",function(){var d=a("#tableResultStudent").DataTable(),e=d.cell(this).index().column;if(10==e){if("SI"==d.cell(d.row(this).index(),10).data()){var f=d.cell(d.row(this).index(),2).data(),g=d.cell(d.row(this).index(),6).data(),h=d.cell(d.row(this).index(),5).data();c(f,g,h)}}else if(7==e){if("0"!=d.cell(d.row(this).index(),7).data()){var f=d.cell(d.row(this).index(),2).data(),g=d.cell(d.row(this).index(),6).data(),h=d.cell(d.row(this).index(),5).data();b(f,g,h)}}else 2==e&&(location.href="student_profile.php"+location.search+"&student_code="+d.cell(d.row(this).index(),2).data()+"-")})})},load_table_students:function(b){a("#div_table_students").html(""),a("#div_table_students").fadeIn(1e3).append('<table id="tableResultStudent" class="table" cellspacing="0" width="100%"><thead> </thead></table>'),a("#tableResultStudent").DataTable(b)},load_total_table:function(b){a("#div_totales_historic").html(""),a("#div_totales_historic").fadeIn(1e3).append('<table id="tableResultTotal" class="table" cellspacing="0" width="100%"><thead> </thead></table>'),a("#tableResultTotal").DataTable(b)}}});