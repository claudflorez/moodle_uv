define(["jquery","report_categoryreports/jszip","report_categoryreports/pdfmake","report_categoryreports/jquery.dataTables","report_categoryreports/dataTables.buttons","report_categoryreports/buttons.html5","report_categoryreports/buttons.flash","report_categoryreports/buttons.print","report_categoryreports/bootstrap","report_categoryreports/sweetalert"],function(a,b,c,d,e,f,g,h,i,j){return{init:function(){var b=this;a("#program_select").on("change",{self:b},function(){b.load_courses(b,a(this))}),a("#btn_filter_attendance").on("click",{self:b},function(){b.get_attendance(b,a("#course_select").val())})},load_courses:function(b,c){var d={"function":"get_courses",id_category:c.val()};a.ajax({type:"POST",data:d,url:"../managers/attendance_server_proc.php",success:function(b){var c="";if(a("#course_select").html(""),Object.keys(b).length>0){for(var d in b)c+="<option value='"+b[d].id+"'>"+b[d].fullname+"</option>";a("#course_select").append(c)}else a("#course_select").append("<option value=''><i>No registra cursos</i></option>")},dataType:"json",cache:"false",error:function(a){console.log(a)}})},get_attendance:function(b,c){var d={"function":"get_attendance",courseid:c};a.ajax({type:"POST",data:d,url:"../managers/attendance_server_proc.php",success:function(b){a("#div_table").html(""),a("#div_table").fadeIn(1e3).append('<table id="table_attendance" class="display" cellspacing="0" width="100%"></table>'),a("#table_attendance").DataTable(b)},dataType:"json",cache:"false",error:function(a){console.log(a)}})}}});